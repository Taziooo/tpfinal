{% extends 'base.html.twig' %}
{% block title %}Checkout — Goodies Shop{% endblock %}

{% block body %}
  <div style="display:flex; align-items:flex-end; justify-content:space-between; gap:12px; flex-wrap:wrap">
    <div>
      <h1 class="h2">Checkout</h1>
      <div class="small">Paiement simulé : une commande est créée en base.</div>
    </div>
    <a class="btn" href="{{ path('app_cart_index') }}">← Retour panier</a>
  </div>

  <div style="height:14px"></div>

  <div class="card">
    {% for row in items %}
      <div class="card-pad" style="display:flex; justify-content:space-between; gap:12px; border-bottom:1px solid rgba(255,255,255,.10)">
        <div>
          <div style="font-weight:800">{{ row.product.name }}</div>
          <div class="small">Quantité : {{ row.qty }}</div>
        </div>
        <div class="price">{{ (row.lineTotalCents / 100)|number_format(2, ',', ' ') }} €</div>
      </div>
    {% endfor %}
    <div class="card-pad" style="display:flex; justify-content:space-between; gap:12px">
      <div style="font-weight:800">Total</div>
      <div class="price">{{ (totalCents / 100)|number_format(2, ',', ' ') }} €</div>
    </div>
  </div>

  <div style="height:14px"></div>

  <form method="post" action="{{ path('app_checkout_confirm') }}">
    <button class="btn btn-primary" type="submit">Confirmer (simuler paiement)</button>
  </form>
{% endblock %}
